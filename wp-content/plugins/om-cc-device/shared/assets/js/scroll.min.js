!function(r,t){"use strict";function n(r,t){var n=t.get(0);return function(i,o){var e,a,g,c=o.match(/^(100|[0-9]{1,2})(_(100|[0-9]{1,2}))?$/);if(c)return a=1-(c[3]?parseInt(c[3]):0)/100,g=parseInt(c[1])/100*t.height(),e=new ScrollMagic.Scene({triggerElement:n,triggerHook:a,offset:g}).addTo(r),e.data=c[0],e}}function i(r){return function(t,n){return t=t.triggerPosition()-t.triggerHook()*r,n=n.triggerPosition()-n.triggerHook()*r,t>n?1:t<n?-1:0}}function o(r,t){return r.replace(/\$(\d)/g,function(r,n){return"undefined"!=typeof t[--n]?t[n]:r})}function e(r){var t,n,i=r.split(";"),o={};for(n=0;n<i.length;n++)t=i[n].split(":"),o[t[0]]=t[1]||"$1";return o}function a(t,n){var i,o=n.toString().split(";"),e={},a=0;for(i in t)t.hasOwnProperty(i)&&(e[i]=r.map(o[a].split(","),parseFloat),a++);return e}function g(r,t,n){for(var i=t.length,o=[];i--;)o[i]=n[i]*r+t[i]*(1-r);return o}function c(r,t,n,i){return function(e){var a,c=e.progress,s={};for(a in t)t.hasOwnProperty(a)&&(s[a]=o(t[a],g(c,n[a],i[a])));r.css(s)}}var s=r(t),u=/mobi/i.test(navigator.userAgent);r(function(){var t=new ScrollMagic.Controller;u||r("[data-om-cc-scroll-animate]").each(function(){var o=r(this),g=o.data("scroll-animate-init");if(!g){o.data("scroll-animate-init",!0);var u,f,l,d,p=o.data("scroll-trigger"),h=p?o.parents(p).first():o,m=r.map(o.data(),n(t,h)),v=m.length,w=[];if(v){for(d=s.height(),m=m.sort(i(d)),l=e(o.data("om-cc-scroll-animate"));v--;)w[v]=a(l,o.data(m[v].data));for(v=m.length-1;v--;)u=m[v],f=m[v+1],u.duration(f.triggerPosition()-f.triggerHook()*d-u.triggerPosition()+u.triggerHook()*d),u.on("progress",c(o,l,w[v],w[v+1]))}}})})}(jQuery,window);